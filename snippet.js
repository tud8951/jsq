// const _0x263d=['setItem','undefined','bottom','652px','Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key','call','substr','userAgent','function','clientHeight','initIframeOver','customer','appendChild','location','addEventListener','search','display','snippet_2.js','message','84px','contentWindow','none','%26','280px','style','Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key\x20or\x20templateId','latestMsg','initIframe','fullScreen','hasOwnProperty','%3D','alignTo','key','config','logout','iframe','minimizedType','%3F','data','width','%2F','substring','bubble','length','init','host','bar','80px','bottomSpacing','yBar','255px','block','frames','352px','%2B','mobileSideSpacing','indexOf','merchantKey','showChat','src','mobileType','myCusim','templateId','getElementById','winResize','replace','postMessage','sendMsg','onload','action','split','test','offsetHeight'];const _0x149b=function(_0x263d11,_0x149b49){_0x263d11=_0x263d11-0x0;let _0x23e577=_0x263d[_0x263d11];return _0x23e577;};let initParam=null;let latestMsg=null;let customData=null;let isInit=![];let iframePath='';initParam=getAllParam();window[_0x149b('0x3d')]=window['myCusim']||{};myCusim={'config':{'key':typeof initParam[_0x149b('0x20')]===_0x149b('0x1')||initParam['key']&&initParam[_0x149b('0x20')]===''?'':initParam['key'],'templateId':typeof initParam['templateId']==='undefined'||initParam[_0x149b('0x3e')]&&initParam['templateId']===''?'':initParam[_0x149b('0x3e')],'showChat':typeof initParam[_0x149b('0x3a')]===_0x149b('0x1')||initParam['showChat']&&initParam[_0x149b('0x3a')]===''?![]:initParam['showChat'],'fullScreen':typeof initParam['fullScreen']==='undefined'||initParam[_0x149b('0x1c')]&&initParam[_0x149b('0x1c')]===''?0x19:initParam[_0x149b('0x1c')],'user':{'avatar':'','userId':'','username':'','vip':![]}},'init':function(){initParam=getAllParam();if(myCusim[_0x149b('0x21')][_0x149b('0x20')]===''||myCusim['config'][_0x149b('0x20')]===null||typeof myCusim[_0x149b('0x21')][_0x149b('0x20')]==='undefined'){myCusim[_0x149b('0x21')][_0x149b('0x20')]=initParam['key'];}if(myCusim['config'][_0x149b('0x3e')]===''||myCusim[_0x149b('0x21')][_0x149b('0x3e')]===null||typeof myCusim['config'][_0x149b('0x3e')]==='undefined'){myCusim['config'][_0x149b('0x3e')]=initParam['templateId'];}if(window[_0x149b('0x34')]['customer']){init(_0x149b('0x2c'));}else{renderIframe(_0x149b('0x2c'));}}};function init(_0x526d72,_0x139248){isInit=!![];const _0x33638d=document['getElementById'](_0x149b('0xb'));let _0x2021af={'merchantKey':myCusim['config'][_0x149b('0x20')],'templateId':myCusim['config'][_0x149b('0x3e')],'type':'init','origin':window[_0x149b('0xd')]['origin'],'param':myCusim['config']};if(typeof _0x33638d[_0x149b('0x44')]===_0x149b('0x8')){if(_0x526d72===_0x149b('0x40')){_0x2021af[_0x149b('0x40')]=!![];}initParam=getAllParam();if(myCusim['config'][_0x149b('0x20')]===''||myCusim['config'][_0x149b('0x20')]===null||typeof myCusim[_0x149b('0x21')]['key']==='undefined'){myCusim['config'][_0x149b('0x20')]=initParam['key'];}if(myCusim['config'][_0x149b('0x3e')]===''||myCusim['config'][_0x149b('0x3e')]===null||typeof myCusim['config'][_0x149b('0x3e')]==='undefined'){myCusim[_0x149b('0x21')]['templateId']=initParam['templateId'];}_0x2021af={'merchantKey':myCusim[_0x149b('0x21')]['key'],'templateId':myCusim['config'][_0x149b('0x3e')],'type':_0x149b('0x2c'),'origin':window[_0x149b('0xd')]['origin'],'param':myCusim[_0x149b('0x21')]};if(typeof myCusim['config']['key']!=='undefined'&&myCusim[_0x149b('0x21')][_0x149b('0x20')]!==''||typeof myCusim[_0x149b('0x21')]['templateId']!==_0x149b('0x1')&&myCusim['config']['templateId']!==''){switch(_0x526d72){case _0x149b('0x2c'):_0x33638d['contentWindow'][_0x149b('0x42')](_0x2021af,'*');break;case'sendMsg':cus_sendMsg(_0x139248);break;case'showChat':cus_showChat();break;case'logout':cus_closeMycusim();break;case'screenShot':screenShot(_0x139248);break;}}}else{_0x33638d['onload']=function(){initParam=getAllParam();if(myCusim['config']['key']===''||myCusim[_0x149b('0x21')]['key']===null||typeof myCusim[_0x149b('0x21')][_0x149b('0x20')]==='undefined'){myCusim['config'][_0x149b('0x20')]=initParam[_0x149b('0x20')];}if(myCusim[_0x149b('0x21')][_0x149b('0x3e')]===''||myCusim['config'][_0x149b('0x3e')]===null||typeof myCusim['config']['templateId']==='undefined'){myCusim[_0x149b('0x21')]['templateId']=initParam[_0x149b('0x3e')];}_0x2021af={'merchantKey':myCusim[_0x149b('0x21')]['key'],'templateId':myCusim[_0x149b('0x21')]['templateId'],'type':_0x149b('0x2c'),'origin':window['location']['origin'],'param':myCusim['config']};if(typeof myCusim['config']['key']!=='undefined'&&myCusim['config'][_0x149b('0x20')]!==''||typeof myCusim['config'][_0x149b('0x3e')]!=='undefined'&&myCusim['config']['templateId']!==''){switch(_0x526d72){case _0x149b('0x2c'):_0x33638d[_0x149b('0x14')]['postMessage'](_0x2021af,iframePath);break;case _0x149b('0x43'):cus_sendMsg(_0x139248);break;case'showChat':cus_showChat();break;case _0x149b('0x22'):cus_closeMycusim();break;case'screenShot':screenShot(_0x139248);break;}}};}messageListenHandle();}function renderIframe(_0x36207a,_0x28b757){if(!window['frames']['customer']){const _0x2d4d51=document['createElement'](_0x149b('0x23'));_0x2d4d51[_0x149b('0x3b')]=iframePath;_0x2d4d51['id']=_0x149b('0xb');_0x2d4d51[_0x149b('0x18')]='\x0a\x09\x09\x09position:\x20fixed;\x0a\x09\x09\x09transition:\x20none\x200s\x20ease\x200s\x20!important;\x0a\x09\x09\x09z-index:\x202147483639;\x0a\x09\x09\x09padding:\x200;\x0a\x09\x09\x09margin:\x200;\x0a\x09\x09\x09border:\x20none;\x0a\x09\x09\x09max-height:\x20calc(100%\x20-\x200px);\x0a\x09\x09\x09max-width:\x20100%;\x0a\x09\x09\x09min-height:\x200;\x0a\x09\x09\x09min-width:\x200;\x0a\x09\x09\x09background-color:\x20transparent;\x0a\x09\x09\x09overflow:\x20hidden;\x0a\x09\x09\x09display:\x20none;\x0a\x09\x09\x09bottom:\x200;\x0a\x09\x09\x09right:\x200;\x0a\x09\x09';document['body'][_0x149b('0xc')](_0x2d4d51);init(_0x36207a,_0x28b757);}else{const _0x3db795=document[_0x149b('0x3f')](_0x149b('0xb'));let _0x1a223f='',_0x5e7320='',_0x170ec4='',_0x142120='';if(_0x36207a===_0x149b('0x1b')){customData=_0x28b757;if(isPc()){switch(_0x28b757[_0x149b('0x24')]){case _0x149b('0x2a'):_0x5e7320=_0x149b('0x13');_0x170ec4='84px';break;case _0x149b('0x2e'):_0x5e7320=_0x149b('0x17');_0x170ec4='80px';break;case _0x149b('0x31'):_0x5e7320=_0x149b('0x2f');_0x170ec4='255px';break;}_0x142120=_0x28b757[_0x149b('0x30')]+'px';_0x3db795['style'][_0x28b757[_0x149b('0x1f')]]=_0x28b757['sideSpacing']+'px';}else{switch(_0x28b757['mobileType']){case _0x149b('0x2a'):_0x5e7320='84px';_0x170ec4='84px';break;case _0x149b('0x2e'):_0x5e7320=_0x149b('0x17');_0x170ec4=_0x149b('0x2f');break;case'yBar':_0x5e7320=_0x149b('0x2f');_0x170ec4='255px';break;}_0x142120=_0x28b757['mobileBottomSpacing']+'px';_0x3db795['style'][_0x28b757['mobileAlignTo']]=_0x28b757[_0x149b('0x37')]+'px';}_0x3db795[_0x149b('0x18')]['display']=_0x28b757['visibility']==='alwaysVisible'?_0x149b('0x33'):_0x149b('0x15');_0x3db795['style'][_0x149b('0x2')]=_0x142120;_0x3db795[_0x149b('0x14')]['postMessage']({'merchantKey':myCusim['config'][_0x149b('0x20')],'templateId':myCusim[_0x149b('0x21')]['templateId'],'showChat':myCusim[_0x149b('0x21')][_0x149b('0x3a')],'type':_0x149b('0xa'),'fullScreen':_0x28b757['fullScreen']},iframePath);}else if(_0x36207a===_0x149b('0x3a')){let _0x3c1c9e=_0x28b757;if(!_0x3c1c9e){_0x3c1c9e=0x19;}if(isPc()){if(_0x3c1c9e&&_0x3c1c9e!==0x19&&_0x3c1c9e!=='0'){_0x5e7320=_0x3c1c9e/1.85+'%';_0x170ec4=_0x3c1c9e+'%';}else{_0x5e7320=_0x149b('0x35');_0x170ec4=_0x149b('0x3');}}else{_0x5e7320=_0x3c1c9e+'%';_0x170ec4=_0x3c1c9e+'%';}_0x3db795['style'][_0x149b('0x10')]='block';setTimeout(()=>{_0x3db795['style']['bottom']=0x0;},0xc8);}else if(_0x36207a==='miniChat'){if(isPc()){switch(_0x28b757[_0x149b('0x24')]){case _0x149b('0x2a'):_0x5e7320=_0x149b('0x13');_0x170ec4='84px';break;case _0x149b('0x2e'):_0x5e7320=_0x149b('0x17');_0x170ec4='80px';break;case'yBar':_0x5e7320='80px';_0x170ec4=_0x149b('0x32');break;}}else{switch(_0x28b757[_0x149b('0x3c')]){case'bubble':_0x5e7320=_0x149b('0x13');_0x170ec4='84px';break;case _0x149b('0x2e'):_0x5e7320=_0x149b('0x17');_0x170ec4=_0x149b('0x2f');break;case'yBar':_0x5e7320='80px';_0x170ec4='255px';break;}}_0x3db795['style'][_0x149b('0x2')]=_0x28b757['mobileBottomSpacing']+'px';_0x3db795['style'][_0x149b('0x10')]=_0x28b757['visibility']==='alwaysVisible'?_0x149b('0x33'):'none';}const _0x280e46=document['getElementById']('widgetGlobal');if(_0x280e46){const _0x1d12b3=_0x280e46['offsetWidth']+'px';const _0x173bd8=_0x280e46[_0x149b('0x48')]+'px';_0x3db795[_0x149b('0x18')]['width']=_0x1d12b3;_0x3db795[_0x149b('0x18')]['height']=_0x173bd8;}else{_0x3db795[_0x149b('0x18')][_0x149b('0x27')]=_0x5e7320;_0x3db795[_0x149b('0x18')]['height']=_0x170ec4;}}}function getChatData(_0x281448){const _0x25f689=localStorage['getItem'](_0x281448);const _0x3120bf=document['getElementById']('customer');_0x3120bf[_0x149b('0x14')]['postMessage']({'merchantKey':myCusim['config']['key'],'templateId':myCusim[_0x149b('0x21')][_0x149b('0x3e')],'storageKey':_0x281448,'action':'getChatData','data':_0x25f689},iframePath);}function setChatData(_0x206391,_0x59c472){localStorage[_0x149b('0x0')](_0x206391,_0x59c472);}function cus_sendMsg(_0x299075){let _0x42e53f={};if(myCusim[_0x149b('0x21')]['key']===''&&myCusim['config']['templateId']===''){alert(_0x149b('0x19'));return;}let _0xf9845d='';if(typeof _0x299075==='object'){_0xf9845d=_0x299075[_0x149b('0x26')];}else{_0xf9845d=_0x299075;}_0x42e53f[_0x149b('0x39')]=myCusim['config'][_0x149b('0x20')];_0x42e53f['templateId']=myCusim['config']['templateId'];_0x42e53f[_0x149b('0x45')]=_0x149b('0x43');_0x42e53f['data']=_0xf9845d;if(window[_0x149b('0x34')]['customer']){const _0x1dd862=document['getElementById'](_0x149b('0xb'));_0x1dd862[_0x149b('0x14')][_0x149b('0x42')](_0x42e53f,iframePath);}else{renderIframe(_0x42e53f[_0x149b('0x45')],_0xf9845d);}}function cus_showChat(){let _0x57973a={};if(myCusim['config']['key']===''&&myCusim[_0x149b('0x21')]['templateId']===''){alert(_0x149b('0x4'));return;}_0x57973a[_0x149b('0x39')]=myCusim['config'][_0x149b('0x20')];_0x57973a['templateId']=myCusim['config']['templateId'];_0x57973a[_0x149b('0x45')]='showChat';if(window[_0x149b('0x34')]['customer']){const _0xcca803=document[_0x149b('0x3f')]('customer');_0xcca803[_0x149b('0x14')]['postMessage'](_0x57973a,iframePath);}else{renderIframe(_0x57973a['action']);}}function cus_closeMycusim(){if(myCusim[_0x149b('0x21')][_0x149b('0x20')]===''&&myCusim[_0x149b('0x21')]['templateId']===''){alert(_0x149b('0x19'));return;}const _0x4fca78={'merchantKey':myCusim[_0x149b('0x21')]['key'],'templateId':myCusim['config'][_0x149b('0x3e')],'action':_0x149b('0x22')};if(window['frames'][_0x149b('0xb')]){const _0x12a459=document['getElementById']('customer');_0x12a459['contentWindow']['postMessage'](_0x4fca78,iframePath);}else{renderIframe(_0x4fca78['action']);}}function messageListenHandle(){return new Promise(_0x55d8c4=>{window[_0x149b('0xe')](_0x149b('0x12'),function(_0x428eb3){const {origin,data}=_0x428eb3;const _0x4f1258=document[_0x149b('0x3f')](_0x149b('0xb'));if(origin===iframePath){switch(data['type']){case _0x149b('0x1b'):renderIframe(data['type'],data['data']);break;case _0x149b('0x3a'):renderIframe(data['type'],data['fullScreen']);break;case'miniChat':renderIframe(data['type'],data['data']);break;case _0x149b('0x1a'):_0x55d8c4(data[_0x149b('0x26')]);break;case'receiveLatestMsg':_0x55d8c4(data[_0x149b('0x26')]);break;}}else{}});});}function calculatedHeight(){const _0x1d95c8=document['documentElement'][_0x149b('0x9')];const _0x14629b=_0x1d95c8-0x32;return _0x14629b;}function getAllParam(){const _0x486e65=getUrlParam();const _0x5761f2=getQueryString();iframePath=_0x5761f2[_0x149b('0x2d')];const _0xbaf039={};Object['assign'](_0xbaf039,_0x5761f2['requestParam'],_0x486e65);return _0xbaf039;}function extend(_0x256201,_0x4eab4c){const _0x5f5c43=arguments['length'];var _0x56667c=arguments[0x0]||{};if(typeof _0x56667c!='object'&&typeof _0x56667c!=_0x149b('0x8')){_0x56667c={};}if(_0x5f5c43===0x1){_0x56667c=this;_0x28e628--;}for(var _0x28e628=0x1;_0x28e628<_0x5f5c43;_0x28e628++){var _0xda0e72=arguments[_0x28e628];for(var _0x3ff97a in _0xda0e72){if(Object['prototype'][_0x149b('0x1d')][_0x149b('0x5')](_0xda0e72,_0x3ff97a)){_0x56667c[_0x3ff97a]=_0xda0e72[_0x3ff97a];}}}return _0x56667c;}function getUrlParam(){var _0x390a2b=location[_0x149b('0xf')];var _0x5f4d17={};if(_0x390a2b[_0x149b('0x38')]('?')!==-0x1){var _0x53bb1d=_0x390a2b['substr'](0x1);strs=_0x53bb1d['split']('&');for(var _0x425c09=0x0;_0x425c09<strs[_0x149b('0x2b')];_0x425c09++){_0x5f4d17[strs[_0x425c09][_0x149b('0x46')]('=')[0x0]]=strs[_0x425c09][_0x149b('0x46')]('=')[0x1];}}return _0x5f4d17;}function getQueryString(){var _0x1cfe30={};var _0x5deb4f=document['getElementsByTagName']('script');for(var _0x2b1961=0x0;_0x2b1961<_0x5deb4f[_0x149b('0x2b')];_0x2b1961++){if(_0x5deb4f[_0x2b1961]['src']['indexOf'](_0x149b('0x11'))>-0x1||_0x5deb4f[_0x2b1961]['src'][_0x149b('0x38')]('snippet.js')>-0x1){const _0x521f11=_0x5deb4f[_0x2b1961][_0x149b('0x3b')][_0x149b('0x29')](0x0,_0x5deb4f[_0x2b1961]['src']['lastIndexOf']('/'));if(_0x5deb4f[_0x2b1961]['src'][_0x149b('0x38')]('?')!==-0x1){var _0x2001f6=_0x5deb4f[_0x2b1961][_0x149b('0x3b')][_0x149b('0x6')](_0x5deb4f[_0x2b1961][_0x149b('0x3b')]['indexOf']('?')+0x1);var _0x57b347=_0x2001f6[_0x149b('0x46')]('&');for(var _0x2b1961=0x0;_0x2b1961<_0x57b347[_0x149b('0x2b')];_0x2b1961++){_0x1cfe30[_0x57b347[_0x2b1961]['split']('=')[0x0]]=unescape(_0x57b347[_0x2b1961]['split']('=')[0x1]);}}return{'host':_0x521f11,'requestParam':_0x1cfe30};}}}function filter(_0x42fae6){_0x42fae6+='';_0x42fae6=_0x42fae6['replace'](/%/g,'%25');_0x42fae6=_0x42fae6['replace'](/\+/g,_0x149b('0x36'));_0x42fae6=_0x42fae6[_0x149b('0x41')](/ /g,'%20');_0x42fae6=_0x42fae6['replace'](/\//g,_0x149b('0x28'));_0x42fae6=_0x42fae6[_0x149b('0x41')](/\?/g,_0x149b('0x25'));_0x42fae6=_0x42fae6['replace'](/&/g,_0x149b('0x16'));_0x42fae6=_0x42fae6[_0x149b('0x41')](/\=/g,_0x149b('0x1e'));_0x42fae6=_0x42fae6['replace'](/#/g,'%23');return _0x42fae6;}function formateObjToParamStr(_0x516de8){const _0x512060=[];for(let _0xd3a458 in _0x516de8){_0x512060['push'](_0xd3a458+'='+filter(_0x516de8[_0xd3a458]));}return'?'+_0x512060['join']('&');}function isPc(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i[_0x149b('0x47')](navigator[_0x149b('0x7')])){return![];}else{return!![];}}myCusim['init']();

// const _0x47f3=['undefined','block','%26','indexOf','split','script','data','255px','minimizedType','action','80px','screenShot','frames','clientHeight','winResize','object','yBar','setItem','fullScreen','bar','onload','createElement','myCusim','Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key\x20or\x20templateId','652px','snippet_2.js','showChat','key','bubble','merchantKey','postMessage','mobileType','mobileAlignTo','style','search','hasOwnProperty','mobileSideSpacing','iframe','contentWindow','requestParam','none','userAgent','sideSpacing','length','location','widgetGlobal','addEventListener','join','call','customer','bottom','config','height','width','templateId','84px','miniChat','%20','origin','body','init','substr','replace','snippet.js','function','280px','src','substring','initIframe','documentElement','initIframeOver','bottomSpacing','getElementById','%3D','getChatData','push'];const _0xc4e4=function(_0x47f3ca,_0xc4e489){_0x47f3ca=_0x47f3ca-0x0;let _0x1daaf0=_0x47f3[_0x47f3ca];return _0x1daaf0;};let initParam=null;let latestMsg=null;let customData=null;let isInit=![];let iframePath='';initParam=getAllParam();window[_0xc4e4('0x16')]=window['myCusim']||{};myCusim={'config':{'key':typeof initParam[_0xc4e4('0x1b')]==='undefined'||initParam['key']&&initParam['key']===''?'':initParam['key'],'templateId':typeof initParam['templateId']==='undefined'||initParam['templateId']&&initParam['templateId']===''?'':initParam['templateId'],'showChat':typeof initParam['showChat']===_0xc4e4('0x0')||initParam['showChat']&&initParam['showChat']===''?![]:initParam[_0xc4e4('0x1a')],'fullScreen':typeof initParam[_0xc4e4('0x12')]===_0xc4e4('0x0')||initParam['fullScreen']&&initParam[_0xc4e4('0x12')]===''?0x64:initParam['fullScreen'],'user':{'avatar':'','userId':'','username':'','vip':![]}},'init':function(){if(myCusim['config']['key']===''||myCusim['config']['key']===null||typeof myCusim[_0xc4e4('0x33')]['key']===_0xc4e4('0x0')){myCusim['config'][_0xc4e4('0x1b')]=initParam[_0xc4e4('0x1b')];}if(myCusim[_0xc4e4('0x33')][_0xc4e4('0x36')]===''||myCusim[_0xc4e4('0x33')]['templateId']===null||typeof myCusim[_0xc4e4('0x33')]['templateId']==='undefined'){myCusim['config']['templateId']=initParam['templateId'];}if(myCusim[_0xc4e4('0x33')]['fullScreen']===!![]){myCusim[_0xc4e4('0x33')][_0xc4e4('0x12')]=0x64;}if(window[_0xc4e4('0xc')][_0xc4e4('0x31')]){init('init');}else{renderIframe('init');}}};function init(_0x3ada93,_0x43bf0c){isInit=!![];const _0x241e6a=document['getElementById']('customer');let _0x4ee6d3={'merchantKey':myCusim[_0xc4e4('0x33')]['key'],'templateId':myCusim[_0xc4e4('0x33')][_0xc4e4('0x36')],'type':'init','origin':window[_0xc4e4('0x2c')]['origin'],'param':myCusim['config']};if(typeof _0x241e6a['onload']===_0xc4e4('0x40')){if(_0x3ada93===_0xc4e4('0xe')){_0x4ee6d3[_0xc4e4('0xe')]=!![];}initParam=getAllParam();if(myCusim[_0xc4e4('0x33')]['key']===''||myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')]===null||typeof myCusim['config']['key']===_0xc4e4('0x0')){myCusim[_0xc4e4('0x33')]['key']=initParam['key'];}if(myCusim['config'][_0xc4e4('0x36')]===''||myCusim['config']['templateId']===null||typeof myCusim['config'][_0xc4e4('0x36')]==='undefined'){myCusim[_0xc4e4('0x33')]['templateId']=initParam[_0xc4e4('0x36')];}_0x4ee6d3={'merchantKey':myCusim['config'][_0xc4e4('0x1b')],'templateId':myCusim[_0xc4e4('0x33')]['templateId'],'type':_0xc4e4('0x3c'),'origin':window['location']['origin'],'param':myCusim[_0xc4e4('0x33')]};if(typeof myCusim[_0xc4e4('0x33')]['key']!=='undefined'&&myCusim['config'][_0xc4e4('0x1b')]!==''||typeof myCusim[_0xc4e4('0x33')]['templateId']!==_0xc4e4('0x0')&&myCusim[_0xc4e4('0x33')]['templateId']!==''){switch(_0x3ada93){case _0xc4e4('0x3c'):_0x241e6a['contentWindow']['postMessage'](_0x4ee6d3,'*');break;case'sendMsg':cus_sendMsg(_0x43bf0c);break;case'showChat':cus_showChat();break;case'logout':cus_closeMycusim();break;case'screenShot':screenShot(_0x43bf0c);break;}}}else{_0x241e6a[_0xc4e4('0x14')]=function(){initParam=getAllParam();if(myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')]===''||myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')]===null||typeof myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')]==='undefined'){myCusim[_0xc4e4('0x33')]['key']=initParam['key'];}if(myCusim[_0xc4e4('0x33')]['templateId']===''||myCusim['config'][_0xc4e4('0x36')]===null||typeof myCusim['config'][_0xc4e4('0x36')]==='undefined'){myCusim['config']['templateId']=initParam['templateId'];}_0x4ee6d3={'merchantKey':myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')],'templateId':myCusim[_0xc4e4('0x33')][_0xc4e4('0x36')],'type':'init','origin':window[_0xc4e4('0x2c')][_0xc4e4('0x3a')],'param':myCusim['config']};if(typeof myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')]!=='undefined'&&myCusim[_0xc4e4('0x33')][_0xc4e4('0x1b')]!==''||typeof myCusim['config']['templateId']!==_0xc4e4('0x0')&&myCusim['config'][_0xc4e4('0x36')]!==''){switch(_0x3ada93){case _0xc4e4('0x3c'):_0x241e6a['contentWindow'][_0xc4e4('0x1e')](_0x4ee6d3,iframePath);break;case'sendMsg':cus_sendMsg(_0x43bf0c);break;case'showChat':cus_showChat();break;case'logout':cus_closeMycusim();break;case _0xc4e4('0xb'):screenShot(_0x43bf0c);break;}}};}messageListenHandle();}function renderIframe(_0x389b20,_0x164d89){if(!window[_0xc4e4('0xc')][_0xc4e4('0x31')]){const _0x1b5b0c=document[_0xc4e4('0x15')](_0xc4e4('0x25'));_0x1b5b0c['src']=iframePath;_0x1b5b0c['id']='customer';_0x1b5b0c['style']='\x0a\x09\x09\x09position:\x20fixed;\x0a\x09\x09\x09transition:\x20none\x200s\x20ease\x200s\x20!important;\x0a\x09\x09\x09z-index:\x202147483639;\x0a\x09\x09\x09padding:\x200;\x0a\x09\x09\x09margin:\x200;\x0a\x09\x09\x09border:\x20none;\x0a\x09\x09\x09max-height:\x20calc(100%\x20-\x200px);\x0a\x09\x09\x09max-width:\x20100%;\x0a\x09\x09\x09min-height:\x200;\x0a\x09\x09\x09min-width:\x200;\x0a\x09\x09\x09background-color:\x20transparent;\x0a\x09\x09\x09overflow:\x20hidden;\x0a\x09\x09\x09display:\x20none;\x0a\x09\x09\x09bottom:\x200;\x0a\x09\x09\x09right:\x200;\x0a\x09\x09';document[_0xc4e4('0x3b')]['appendChild'](_0x1b5b0c);init(_0x389b20,_0x164d89);}else{const _0x3d6fea=document[_0xc4e4('0x48')](_0xc4e4('0x31'));let _0x246405='',_0x2984dd='',_0x37f57a='',_0x3b77fc='';if(_0x389b20===_0xc4e4('0x44')){customData=_0x164d89;if(isPc()){switch(_0x164d89[_0xc4e4('0x8')]){case _0xc4e4('0x1c'):_0x2984dd='84px';_0x37f57a='84px';break;case'bar':_0x2984dd='280px';_0x37f57a='80px';break;case'yBar':_0x2984dd='80px';_0x37f57a=_0xc4e4('0x7');break;}_0x3b77fc=_0x164d89[_0xc4e4('0x47')]+'px';_0x3d6fea[_0xc4e4('0x21')][_0x164d89['alignTo']]=_0x164d89[_0xc4e4('0x2a')]+'px';}else{switch(_0x164d89[_0xc4e4('0x1f')]){case _0xc4e4('0x1c'):_0x2984dd=_0xc4e4('0x37');_0x37f57a='84px';break;case _0xc4e4('0x13'):_0x2984dd='280px';_0x37f57a='80px';break;case _0xc4e4('0x10'):_0x2984dd=_0xc4e4('0xa');_0x37f57a='255px';break;}_0x3b77fc=_0x164d89['mobileBottomSpacing']+'px';_0x3d6fea[_0xc4e4('0x21')][_0x164d89[_0xc4e4('0x20')]]=_0x164d89[_0xc4e4('0x24')]+'px';}_0x3d6fea[_0xc4e4('0x21')]['display']=_0x164d89['visibility']==='alwaysVisible'?_0xc4e4('0x1'):'none';_0x3d6fea[_0xc4e4('0x21')]['bottom']=_0x3b77fc;_0x3d6fea['contentWindow'][_0xc4e4('0x1e')]({'merchantKey':myCusim[_0xc4e4('0x33')]['key'],'templateId':myCusim[_0xc4e4('0x33')][_0xc4e4('0x36')],'showChat':myCusim[_0xc4e4('0x33')]['showChat'],'type':_0xc4e4('0x46'),'fullScreen':_0x164d89[_0xc4e4('0x12')]},iframePath);}else if(_0x389b20==='showChat'){let _0x3315f7=_0x164d89;if(!_0x3315f7){_0x3315f7=0x64;}if(isPc()){if(_0x3315f7&&_0x3315f7!==0x19&&_0x3315f7!=='0'){_0x2984dd=_0x3315f7/1.85+'%';_0x37f57a=_0x3315f7+'%';}else{_0x2984dd='352px';_0x37f57a=_0xc4e4('0x18');}}else{_0x2984dd=_0x3315f7+'%';_0x37f57a=_0x3315f7+'%';}_0x3d6fea['style']['display']='block';setTimeout(()=>{_0x3d6fea[_0xc4e4('0x21')][_0xc4e4('0x32')]=0x0;},0xc8);}else if(_0x389b20===_0xc4e4('0x38')){if(isPc()){switch(_0x164d89[_0xc4e4('0x8')]){case _0xc4e4('0x1c'):_0x2984dd='84px';_0x37f57a=_0xc4e4('0x37');break;case'bar':_0x2984dd=_0xc4e4('0x41');_0x37f57a='80px';break;case _0xc4e4('0x10'):_0x2984dd='80px';_0x37f57a=_0xc4e4('0x7');break;}}else{switch(_0x164d89[_0xc4e4('0x1f')]){case'bubble':_0x2984dd=_0xc4e4('0x37');_0x37f57a=_0xc4e4('0x37');break;case _0xc4e4('0x13'):_0x2984dd='280px';_0x37f57a=_0xc4e4('0xa');break;case'yBar':_0x2984dd=_0xc4e4('0xa');_0x37f57a=_0xc4e4('0x7');break;}}_0x3d6fea[_0xc4e4('0x21')]['bottom']=_0x164d89['mobileBottomSpacing']+'px';_0x3d6fea[_0xc4e4('0x21')]['display']=_0x164d89['visibility']==='alwaysVisible'?_0xc4e4('0x1'):_0xc4e4('0x28');}const _0x6b2b94=document[_0xc4e4('0x48')](_0xc4e4('0x2d'));if(_0x6b2b94){const _0x20d4e0=_0x6b2b94['offsetWidth']+'px';const _0x322599=_0x6b2b94['offsetHeight']+'px';_0x3d6fea['style'][_0xc4e4('0x35')]=_0x20d4e0;_0x3d6fea[_0xc4e4('0x21')][_0xc4e4('0x34')]=_0x322599;}else{_0x3d6fea[_0xc4e4('0x21')]['width']=_0x2984dd;_0x3d6fea[_0xc4e4('0x21')]['height']=_0x37f57a;}}}function getChatData(_0xc8f230){const _0x5cc539=localStorage['getItem'](_0xc8f230);const _0x120a83=document['getElementById'](_0xc4e4('0x31'));_0x120a83[_0xc4e4('0x26')]['postMessage']({'merchantKey':myCusim['config'][_0xc4e4('0x1b')],'templateId':myCusim[_0xc4e4('0x33')][_0xc4e4('0x36')],'storageKey':_0xc8f230,'action':_0xc4e4('0x4a'),'data':_0x5cc539},iframePath);}function setChatData(_0x98d030,_0xb56fb2){localStorage[_0xc4e4('0x11')](_0x98d030,_0xb56fb2);}function cus_sendMsg(_0x409a3a){let _0x1ca3ae={};if(myCusim['config']['key']===''&&myCusim[_0xc4e4('0x33')][_0xc4e4('0x36')]===''){alert(_0xc4e4('0x17'));return;}let _0x585bcc='';if(typeof _0x409a3a===_0xc4e4('0xf')){_0x585bcc=_0x409a3a['data'];}else{_0x585bcc=_0x409a3a;}_0x1ca3ae['merchantKey']=myCusim[_0xc4e4('0x33')]['key'];_0x1ca3ae['templateId']=myCusim['config'][_0xc4e4('0x36')];_0x1ca3ae['action']='sendMsg';_0x1ca3ae['data']=_0x585bcc;if(window['frames'][_0xc4e4('0x31')]){const _0xa09491=document['getElementById']('customer');_0xa09491['contentWindow'][_0xc4e4('0x1e')](_0x1ca3ae,iframePath);}else{renderIframe(_0x1ca3ae[_0xc4e4('0x9')],_0x585bcc);}}function cus_showChat(){let _0x386716={};if(myCusim['config'][_0xc4e4('0x1b')]===''&&myCusim['config']['templateId']===''){alert('Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key');return;}_0x386716[_0xc4e4('0x1d')]=myCusim[_0xc4e4('0x33')]['key'];_0x386716[_0xc4e4('0x36')]=myCusim['config']['templateId'];_0x386716['action']='showChat';if(window[_0xc4e4('0xc')]['customer']){const _0x10af2d=document['getElementById'](_0xc4e4('0x31'));_0x10af2d['contentWindow'][_0xc4e4('0x1e')](_0x386716,iframePath);}else{renderIframe(_0x386716['action']);}}function cus_closeMycusim(){if(myCusim['config'][_0xc4e4('0x1b')]===''&&myCusim['config']['templateId']===''){alert(_0xc4e4('0x17'));return;}const _0xee4fb2={'merchantKey':myCusim[_0xc4e4('0x33')]['key'],'templateId':myCusim['config']['templateId'],'action':'logout'};if(window['frames']['customer']){const _0x6a7602=document['getElementById'](_0xc4e4('0x31'));_0x6a7602['contentWindow']['postMessage'](_0xee4fb2,iframePath);}else{renderIframe(_0xee4fb2[_0xc4e4('0x9')]);}}function messageListenHandle(){return new Promise(_0x1d02a6=>{window[_0xc4e4('0x2e')]('message',function(_0x400b0f){const {origin,data}=_0x400b0f;const _0x75cb08=document[_0xc4e4('0x48')](_0xc4e4('0x31'));if(origin===iframePath){switch(data['type']){case _0xc4e4('0x44'):renderIframe(data['type'],data[_0xc4e4('0x6')]);break;case _0xc4e4('0x1a'):renderIframe(data['type'],data['fullScreen']);break;case _0xc4e4('0x38'):renderIframe(data['type'],data['data']);break;case'latestMsg':_0x1d02a6(data['data']);break;case'receiveLatestMsg':_0x1d02a6(data[_0xc4e4('0x6')]);break;}}else{}});});}function calculatedHeight(){const _0x51bacf=document[_0xc4e4('0x45')][_0xc4e4('0xd')];const _0x26e7dc=_0x51bacf-0x32;return _0x26e7dc;}function getAllParam(){const _0x54e4a9=getUrlParam();const _0x9b4f0c=getQueryString();iframePath=_0x9b4f0c['host'];const _0x150787={};Object['assign'](_0x150787,_0x9b4f0c[_0xc4e4('0x27')],_0x54e4a9);return _0x150787;}function extend(_0x12983a,_0x3971ca){const _0x16e0ab=arguments['length'];var _0x43d49=arguments[0x0]||{};if(typeof _0x43d49!=_0xc4e4('0xf')&&typeof _0x43d49!='function'){_0x43d49={};}if(_0x16e0ab===0x1){_0x43d49=this;_0xc14215--;}for(var _0xc14215=0x1;_0xc14215<_0x16e0ab;_0xc14215++){var _0x11ba4c=arguments[_0xc14215];for(var _0x201fe9 in _0x11ba4c){if(Object['prototype'][_0xc4e4('0x23')][_0xc4e4('0x30')](_0x11ba4c,_0x201fe9)){_0x43d49[_0x201fe9]=_0x11ba4c[_0x201fe9];}}}return _0x43d49;}function getUrlParam(){var _0x535bfc=location[_0xc4e4('0x22')];var _0x2421c3={};if(_0x535bfc[_0xc4e4('0x3')]('?')!==-0x1){var _0x2b7c47=_0x535bfc[_0xc4e4('0x3d')](0x1);strs=_0x2b7c47['split']('&');for(var _0x5d0918=0x0;_0x5d0918<strs[_0xc4e4('0x2b')];_0x5d0918++){_0x2421c3[strs[_0x5d0918]['split']('=')[0x0]]=strs[_0x5d0918][_0xc4e4('0x4')]('=')[0x1];}}return _0x2421c3;}function getQueryString(){var _0x5f0b32={};var _0x4b8126=document['getElementsByTagName'](_0xc4e4('0x5'));for(var _0x2cab0e=0x0;_0x2cab0e<_0x4b8126['length'];_0x2cab0e++){if(_0x4b8126[_0x2cab0e]['src'][_0xc4e4('0x3')](_0xc4e4('0x19'))>-0x1||_0x4b8126[_0x2cab0e][_0xc4e4('0x42')][_0xc4e4('0x3')](_0xc4e4('0x3f'))>-0x1){const _0x23301b=_0x4b8126[_0x2cab0e]['src'][_0xc4e4('0x43')](0x0,_0x4b8126[_0x2cab0e][_0xc4e4('0x42')]['lastIndexOf']('/'));if(_0x4b8126[_0x2cab0e][_0xc4e4('0x42')][_0xc4e4('0x3')]('?')!==-0x1){var _0x55747c=_0x4b8126[_0x2cab0e][_0xc4e4('0x42')][_0xc4e4('0x3d')](_0x4b8126[_0x2cab0e][_0xc4e4('0x42')]['indexOf']('?')+0x1);var _0x3b9cae=_0x55747c[_0xc4e4('0x4')]('&');for(var _0x2cab0e=0x0;_0x2cab0e<_0x3b9cae['length'];_0x2cab0e++){_0x5f0b32[_0x3b9cae[_0x2cab0e][_0xc4e4('0x4')]('=')[0x0]]=unescape(_0x3b9cae[_0x2cab0e]['split']('=')[0x1]);}}return{'host':_0x23301b,'requestParam':_0x5f0b32};}}}function filter(_0x292b94){_0x292b94+='';_0x292b94=_0x292b94['replace'](/%/g,'%25');_0x292b94=_0x292b94[_0xc4e4('0x3e')](/\+/g,'%2B');_0x292b94=_0x292b94[_0xc4e4('0x3e')](/ /g,_0xc4e4('0x39'));_0x292b94=_0x292b94[_0xc4e4('0x3e')](/\//g,'%2F');_0x292b94=_0x292b94['replace'](/\?/g,'%3F');_0x292b94=_0x292b94['replace'](/&/g,_0xc4e4('0x2'));_0x292b94=_0x292b94[_0xc4e4('0x3e')](/\=/g,_0xc4e4('0x49'));_0x292b94=_0x292b94[_0xc4e4('0x3e')](/#/g,'%23');return _0x292b94;}function formateObjToParamStr(_0x56adb1){const _0x3c8907=[];for(let _0x281360 in _0x56adb1){_0x3c8907[_0xc4e4('0x4b')](_0x281360+'='+filter(_0x56adb1[_0x281360]));}return'?'+_0x3c8907[_0xc4e4('0x2f')]('&');}function isPc(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i['test'](navigator[_0xc4e4('0x29')])){return![];}else{return!![];}}myCusim[_0xc4e4('0x3c')]();

/*
* 加密工具已经升级了一个版本，目前为 jsjiami.com.v7 ，更新了加密算法，缩减了体积;
* 另外 jsjiami.com.v7 已经强制加入校验，注释可以去掉，但是 jsjiami.com.v7 不能去掉，其他都没有任何绑定。
* 誓死不会加入任何后门，JsJiami.com 加密的使命就是为了保护你们的Javascript 。
*/
// const _0x4f1a=['snippet_2.js','winResize','visibility','bar','customer','call','createElement','config','height','position','postMessage','top-right','fullScreen','frames','bubble','block','mobileBottomSpacing','offsetWidth','80px','indexOf','widgetGlobal','search','getElementsByTagName','84px','replace','bottom','src','host','%23','object','setItem','false','logout','merchantKey','650px','script','action','templateId','origin','type','%26','yBar','init','top','0px','key','undefined','contentWindow','mobileType','display','iframe','none','onload','255px','sendMsg','652px','100%','miniChat','right','location','bottom-right','myCusim','showChat','Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key\x20or\x20templateId','280px','clientHeight','352px','getElementById','alwaysVisible','initIframeOver','split','left','hasOwnProperty','%25','alignTo','width','data','getItem','style','Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key','length'];const _0x4372=function(_0x4f1afb,_0x4372fe){_0x4f1afb=_0x4f1afb-0x0;let _0x5eba42=_0x4f1a[_0x4f1afb];return _0x5eba42;};let initParam=null;let latestMsg=null;let customData=null;let isInit=![];let iframePath='';initParam=getAllParam();window['myCusim']=window[_0x4372('0x3d')]||{};myCusim={'config':{'key':typeof initParam['key']==='undefined'||initParam['key']&&initParam['key']===''?'':initParam['key'],'templateId':typeof initParam['templateId']===_0x4372('0x2e')||initParam['templateId']&&initParam['templateId']===''?'':initParam[_0x4372('0x25')],'showChat':initParam[_0x4372('0x3e')]?!![]:initParam[_0x4372('0x3e')]==='false'||initParam['showChat']===![]?![]:'','fullscreen':myCusim[_0x4372('0x7')]&&myCusim[_0x4372('0x7')]['fullScreen']?myCusim[_0x4372('0x7')][_0x4372('0xc')]:initParam[_0x4372('0xc')]?initParam[_0x4372('0xc')]:![],'position':typeof initParam[_0x4372('0x9')]===_0x4372('0x2e')||initParam['position']&&initParam[_0x4372('0x9')]===''?'':initParam['position'],'user':{'avatar':'','userId':'','username':'','vip':![]}},'init':function(){if(myCusim['config'][_0x4372('0x2d')]===''||myCusim['config'][_0x4372('0x2d')]===null||typeof myCusim[_0x4372('0x7')]['key']===_0x4372('0x2e')){myCusim['config'][_0x4372('0x2d')]=initParam['key'];}if(myCusim['config']['templateId']===''||myCusim[_0x4372('0x7')]['templateId']===null||typeof myCusim['config'][_0x4372('0x25')]==='undefined'){myCusim[_0x4372('0x7')]['templateId']=initParam['templateId'];}if(window[_0x4372('0xd')][_0x4372('0x4')]){init('init');}else{renderIframe(_0x4372('0x2a'));}}};function init(_0x37154d,_0x44f415){isInit=!![];const _0x40b520=document['getElementById']('customer');let _0x3c1ed3={'merchantKey':myCusim[_0x4372('0x7')]['key'],'templateId':myCusim['config'][_0x4372('0x25')],'type':'init','origin':window['location'][_0x4372('0x26')],'param':myCusim['config']};if(typeof _0x40b520[_0x4372('0x34')]==='function'){if(_0x37154d===_0x4372('0x1')){_0x3c1ed3['winResize']=!![];}initParam=getAllParam();if(myCusim['config'][_0x4372('0x2d')]===''||myCusim['config']['key']===null||typeof myCusim['config'][_0x4372('0x2d')]===_0x4372('0x2e')){myCusim['config']['key']=initParam['key'];}if(myCusim[_0x4372('0x7')]['templateId']===''||myCusim[_0x4372('0x7')]['templateId']===null||typeof myCusim[_0x4372('0x7')]['templateId']==='undefined'){myCusim[_0x4372('0x7')]['templateId']=initParam[_0x4372('0x25')];}if(!myCusim['config']['position']||myCusim[_0x4372('0x7')]['position']===''||myCusim[_0x4372('0x7')]['position']===null||typeof myCusim['config']['position']===_0x4372('0x2e')){if(initParam['position']===_0x4372('0xb')){_0x40b520[_0x4372('0x4e')]['right']=_0x4372('0x2c');_0x40b520[_0x4372('0x4e')][_0x4372('0x2b')]='0px';}else if(initParam[_0x4372('0x9')]==='top-left'){_0x40b520[_0x4372('0x4e')]['left']=_0x4372('0x2c');_0x40b520['style'][_0x4372('0x2b')]=_0x4372('0x2c');}else if(initParam[_0x4372('0x9')]==='bottom-right'){_0x40b520[_0x4372('0x4e')]['right']='0px';_0x40b520[_0x4372('0x4e')][_0x4372('0x19')]='0px';}else if(initParam[_0x4372('0x9')]==='bottom-left'){_0x40b520['style']['left']='0px';_0x40b520[_0x4372('0x4e')]['bottom']='0px';}}else{if(myCusim[_0x4372('0x7')][_0x4372('0x9')]==='top-right'){_0x40b520[_0x4372('0x4e')][_0x4372('0x3a')]='0px';_0x40b520[_0x4372('0x4e')]['top']=_0x4372('0x2c');}else if(myCusim['config'][_0x4372('0x9')]==='top-left'){_0x40b520[_0x4372('0x4e')]['left']='0px';_0x40b520[_0x4372('0x4e')][_0x4372('0x2b')]=_0x4372('0x2c');}else if(myCusim[_0x4372('0x7')]['position']===_0x4372('0x3c')){_0x40b520['style']['right']=_0x4372('0x2c');_0x40b520[_0x4372('0x4e')]['bottom']=_0x4372('0x2c');}else if(myCusim['config']['position']==='bottom-left'){_0x40b520['style'][_0x4372('0x47')]=_0x4372('0x2c');_0x40b520['style']['bottom']=_0x4372('0x2c');}}_0x3c1ed3={'merchantKey':myCusim['config'][_0x4372('0x2d')],'templateId':myCusim[_0x4372('0x7')][_0x4372('0x25')],'type':_0x4372('0x2a'),'origin':window[_0x4372('0x3b')][_0x4372('0x26')],'param':myCusim['config']};if(typeof myCusim[_0x4372('0x7')][_0x4372('0x2d')]!==_0x4372('0x2e')&&myCusim['config'][_0x4372('0x2d')]!==''||typeof myCusim[_0x4372('0x7')][_0x4372('0x25')]!==_0x4372('0x2e')&&myCusim[_0x4372('0x7')]['templateId']!==''){switch(_0x37154d){case'init':_0x40b520['contentWindow'][_0x4372('0xa')](_0x3c1ed3,'*');break;case'sendMsg':cus_sendMsg(_0x44f415);break;case _0x4372('0x3e'):cus_showChat();break;case'logout':cus_closeMycusim();break;case'screenShot':screenShot(_0x44f415);break;}}}else{_0x40b520[_0x4372('0x34')]=function(){initParam=getAllParam();if(myCusim['config']['key']===''||myCusim['config'][_0x4372('0x2d')]===null||typeof myCusim[_0x4372('0x7')][_0x4372('0x2d')]===_0x4372('0x2e')){myCusim['config']['key']=initParam[_0x4372('0x2d')];}if(myCusim['config']['templateId']===''||myCusim['config'][_0x4372('0x25')]===null||typeof myCusim['config'][_0x4372('0x25')]===_0x4372('0x2e')){myCusim[_0x4372('0x7')]['templateId']=initParam['templateId'];}_0x3c1ed3={'merchantKey':myCusim[_0x4372('0x7')]['key'],'templateId':myCusim[_0x4372('0x7')]['templateId'],'type':_0x4372('0x2a'),'origin':window[_0x4372('0x3b')]['origin'],'param':myCusim[_0x4372('0x7')]};if(typeof myCusim[_0x4372('0x7')]['key']!==_0x4372('0x2e')&&myCusim['config']['key']!==''||typeof myCusim[_0x4372('0x7')]['templateId']!=='undefined'&&myCusim[_0x4372('0x7')][_0x4372('0x25')]!==''){switch(_0x37154d){case _0x4372('0x2a'):_0x40b520[_0x4372('0x2f')][_0x4372('0xa')](_0x3c1ed3,iframePath);break;case'sendMsg':cus_sendMsg(_0x44f415);break;case _0x4372('0x3e'):cus_showChat();break;case _0x4372('0x20'):cus_closeMycusim();break;case'screenShot':screenShot(_0x44f415);break;}}};}messageListenHandle();}function renderIframe(_0x11123f,_0x592e99){if(!window[_0x4372('0xd')]['customer']){const _0x1854e5=document[_0x4372('0x6')](_0x4372('0x32'));_0x1854e5[_0x4372('0x1a')]=iframePath;_0x1854e5['id']='customer';_0x1854e5[_0x4372('0x4e')]='\x0a\x09\x09\x09position:\x20fixed;\x0a\x09\x09\x09transition:\x20none\x200s\x20ease\x200s\x20!important;\x0a\x09\x09\x09z-index:\x202147483639;\x0a\x09\x09\x09padding:\x200;\x0a\x09\x09\x09margin:\x200;\x0a\x09\x09\x09border:\x20none;\x0a\x09\x09\x09max-height:\x20calc(100%\x20-\x200px);\x0a\x09\x09\x09max-width:\x20100%;\x0a\x09\x09\x09min-height:\x200;\x0a\x09\x09\x09min-width:\x200;\x0a\x09\x09\x09background-color:\x20transparent;\x0a\x09\x09\x09overflow:\x20hidden;\x0a\x09\x09\x09display:\x20none;\x0a\x09\x09\x09bottom:\x200;\x0a\x09\x09\x09right:\x200;\x0a\x09\x09';document['body']['appendChild'](_0x1854e5);init(_0x11123f,_0x592e99);}else{const _0xa06d69=document[_0x4372('0x43')]('customer');let _0x2b6860='',_0x3cfea6='',_0x4f7158='',_0x2e21f9='';if(_0x11123f==='initIframe'){customData=_0x592e99;if(isPc()){switch(_0x592e99['minimizedType']){case'bubble':_0x3cfea6='84px';_0x4f7158='84px';break;case'bar':_0x3cfea6=_0x4372('0x40');_0x4f7158='80px';break;case _0x4372('0x29'):_0x3cfea6='80px';_0x4f7158='255px';break;}_0x2e21f9=_0x592e99['bottomSpacing']+'px';_0xa06d69[_0x4372('0x4e')][_0x592e99[_0x4372('0x4a')]]=_0x592e99['sideSpacing']+'px';}else{switch(_0x592e99['mobileType']){case _0x4372('0xe'):_0x3cfea6='84px';_0x4f7158='84px';break;case _0x4372('0x3'):_0x3cfea6='280px';_0x4f7158=_0x4372('0x12');break;case'yBar':_0x3cfea6='80px';_0x4f7158=_0x4372('0x35');break;}_0x2e21f9=_0x592e99[_0x4372('0x10')]+'px';_0xa06d69[_0x4372('0x4e')][_0x592e99['mobileAlignTo']]=_0x592e99['mobileSideSpacing']+'px';}let _0x5ecfd7=![];if(myCusim['config']['showChat']){_0x5ecfd7=!![];}else{if(typeof myCusim[_0x4372('0x7')]['showChat']==='undefined'||typeof myCusim[_0x4372('0x7')]['showChat']===undefined||myCusim[_0x4372('0x7')][_0x4372('0x3e')]===''){_0x5ecfd7=_0x592e99['chatNavigation']?!![]:![];}if(myCusim[_0x4372('0x7')]['showChat']===![]||myCusim[_0x4372('0x7')]['showChat']===_0x4372('0x1f')){_0x5ecfd7=![];}}console['log']('@@@@\x20showchat\x20',_0x5ecfd7);_0xa06d69[_0x4372('0x4e')]['display']=_0x592e99[_0x4372('0x2')]===_0x4372('0x44')?_0x4372('0xf'):_0x4372('0x33');_0xa06d69['style']['bottom']=_0x2e21f9;_0xa06d69['contentWindow']['postMessage']({'merchantKey':myCusim[_0x4372('0x7')]['key'],'templateId':myCusim['config']['templateId'],'showChat':_0x5ecfd7,'type':_0x4372('0x45'),'fullScreen':myCusim[_0x4372('0x7')][_0x4372('0xc')]},iframePath);}else if(_0x11123f===_0x4372('0x3e')){let _0x359da0=_0x592e99;if(myCusim['config']['fullScreen']){_0x3cfea6=_0x4372('0x38');_0x4f7158=_0x4372('0x38');}else{if(!_0x359da0){_0x359da0=0x64;}if(isPc()){if(_0x359da0&&_0x359da0!==0x19&&_0x359da0!=='0'){_0x3cfea6=_0x4372('0x22');_0x4f7158=_0x359da0+'%';}else{_0x3cfea6=_0x4372('0x42');_0x4f7158=_0x4372('0x37');}}else{_0x3cfea6=_0x4372('0x38');_0x4f7158=_0x4372('0x38');}}_0xa06d69['style'][_0x4372('0x31')]='block';setTimeout(()=>{_0xa06d69[_0x4372('0x4e')]['bottom']=0x0;},0xc8);}else if(_0x11123f===_0x4372('0x39')){if(isPc()){switch(_0x592e99['minimizedType']){case _0x4372('0xe'):_0x3cfea6=_0x4372('0x17');_0x4f7158=_0x4372('0x17');break;case'bar':_0x3cfea6=_0x4372('0x40');_0x4f7158='80px';break;case'yBar':_0x3cfea6='80px';_0x4f7158=_0x4372('0x35');break;}}else{switch(_0x592e99[_0x4372('0x30')]){case _0x4372('0xe'):_0x3cfea6=_0x4372('0x17');_0x4f7158=_0x4372('0x17');break;case'bar':_0x3cfea6='280px';_0x4f7158='80px';break;case'yBar':_0x3cfea6='80px';_0x4f7158=_0x4372('0x35');break;}}_0xa06d69[_0x4372('0x4e')]['bottom']=_0x592e99['mobileBottomSpacing']+'px';_0xa06d69['style'][_0x4372('0x31')]=_0x592e99['visibility']===_0x4372('0x44')?_0x4372('0xf'):_0x4372('0x33');}const _0x693198=document['getElementById'](_0x4372('0x14'));if(_0x693198){const _0x4746d4=_0x693198[_0x4372('0x11')]+'px';const _0x1dba8e=_0x693198['offsetHeight']+'px';_0xa06d69[_0x4372('0x4e')]['width']=_0x4746d4;_0xa06d69['style']['height']=_0x1dba8e;}else{_0xa06d69[_0x4372('0x4e')][_0x4372('0x4b')]=_0x3cfea6;_0xa06d69[_0x4372('0x4e')][_0x4372('0x8')]=_0x4f7158;}}}function getChatData(_0x3acbdc){const _0x12ad8e=localStorage[_0x4372('0x4d')](_0x3acbdc);const _0x16aaf4=document[_0x4372('0x43')]('customer');_0x16aaf4[_0x4372('0x2f')][_0x4372('0xa')]({'merchantKey':myCusim[_0x4372('0x7')][_0x4372('0x2d')],'templateId':myCusim['config']['templateId'],'storageKey':_0x3acbdc,'action':'getChatData','data':_0x12ad8e},iframePath);}function setChatData(_0x9c83a,_0x7e57e5){localStorage[_0x4372('0x1e')](_0x9c83a,_0x7e57e5);}function cus_sendMsg(_0x527b53){let _0x5e3890={};if(myCusim[_0x4372('0x7')]['key']===''&&myCusim[_0x4372('0x7')]['templateId']===''){alert('Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key\x20or\x20templateId');return;}let _0x580d93='';if(typeof _0x527b53==='object'){_0x580d93=_0x527b53[_0x4372('0x4c')];}else{_0x580d93=_0x527b53;}_0x5e3890['merchantKey']=myCusim['config'][_0x4372('0x2d')];_0x5e3890['templateId']=myCusim[_0x4372('0x7')]['templateId'];_0x5e3890['action']=_0x4372('0x36');_0x5e3890[_0x4372('0x4c')]=_0x580d93;if(window['frames']['customer']){const _0x5dbf9a=document[_0x4372('0x43')](_0x4372('0x4'));_0x5dbf9a[_0x4372('0x2f')]['postMessage'](_0x5e3890,iframePath);}else{renderIframe(_0x5e3890['action'],_0x580d93);}}function cus_showChat(){let _0x4180d4={};if(myCusim['config']['key']===''&&myCusim[_0x4372('0x7')][_0x4372('0x25')]===''){alert(_0x4372('0x4f'));return;}_0x4180d4[_0x4372('0x21')]=myCusim['config']['key'];_0x4180d4['templateId']=myCusim['config']['templateId'];_0x4180d4[_0x4372('0x24')]='showChat';if(window['frames'][_0x4372('0x4')]){const _0x20ed75=document[_0x4372('0x43')](_0x4372('0x4'));_0x20ed75['contentWindow']['postMessage'](_0x4180d4,iframePath);}else{renderIframe(_0x4180d4[_0x4372('0x24')]);}}function cus_closeMycusim(){if(myCusim[_0x4372('0x7')]['key']===''&&myCusim['config']['templateId']===''){alert(_0x4372('0x3f'));return;}const _0x36a281={'merchantKey':myCusim['config'][_0x4372('0x2d')],'templateId':myCusim['config'][_0x4372('0x25')],'action':_0x4372('0x20')};if(window[_0x4372('0xd')]['customer']){const _0x117fc7=document[_0x4372('0x43')](_0x4372('0x4'));_0x117fc7['contentWindow']['postMessage'](_0x36a281,iframePath);}else{renderIframe(_0x36a281[_0x4372('0x24')]);}}function messageListenHandle(){return new Promise(_0x49a40b=>{window['addEventListener']('message',function(_0x1826ba){const {origin,data}=_0x1826ba;const _0x1f072e=document['getElementById'](_0x4372('0x4'));if(origin===iframePath){switch(data[_0x4372('0x27')]){case'initIframe':renderIframe(data['type'],data['data']);break;case'showChat':renderIframe(data[_0x4372('0x27')],data['fullScreen']);break;case'miniChat':renderIframe(data['type'],data[_0x4372('0x4c')]);break;case'latestMsg':_0x49a40b(data[_0x4372('0x4c')]);break;case'receiveLatestMsg':_0x49a40b(data[_0x4372('0x4c')]);break;}}else{}});});}function calculatedHeight(){const _0x181a88=document['documentElement'][_0x4372('0x41')];const _0x39444d=_0x181a88-0x32;return _0x39444d;}function getAllParam(){const _0x1b2c84=getUrlParam();const _0x6a34da=getQueryString();iframePath=_0x6a34da[_0x4372('0x1b')];const _0x1e0f01={};Object['assign'](_0x1e0f01,_0x6a34da['requestParam'],_0x1b2c84);return _0x1e0f01;}function extend(_0x405868,_0x52767b){const _0x34fb1f=arguments[_0x4372('0x50')];var _0xc0c7a9=arguments[0x0]||{};if(typeof _0xc0c7a9!=_0x4372('0x1d')&&typeof _0xc0c7a9!='function'){_0xc0c7a9={};}if(_0x34fb1f===0x1){_0xc0c7a9=this;_0x1e0f29--;}for(var _0x1e0f29=0x1;_0x1e0f29<_0x34fb1f;_0x1e0f29++){var _0x5dd6b7=arguments[_0x1e0f29];for(var _0x5dc8e4 in _0x5dd6b7){if(Object['prototype'][_0x4372('0x48')][_0x4372('0x5')](_0x5dd6b7,_0x5dc8e4)){_0xc0c7a9[_0x5dc8e4]=_0x5dd6b7[_0x5dc8e4];}}}return _0xc0c7a9;}function getUrlParam(){var _0x2aa5a7=location[_0x4372('0x15')];var _0x3a7ce0={};if(_0x2aa5a7['indexOf']('?')!==-0x1){var _0x519b9e=_0x2aa5a7['substr'](0x1);strs=_0x519b9e[_0x4372('0x46')]('&');for(var _0x840300=0x0;_0x840300<strs[_0x4372('0x50')];_0x840300++){_0x3a7ce0[strs[_0x840300]['split']('=')[0x0]]=strs[_0x840300]['split']('=')[0x1];}}return _0x3a7ce0;}function getQueryString(){var _0x51e107={};var _0xbc9cb8=document[_0x4372('0x16')](_0x4372('0x23'));for(var _0xc07b3c=0x0;_0xc07b3c<_0xbc9cb8['length'];_0xc07b3c++){if(_0xbc9cb8[_0xc07b3c][_0x4372('0x1a')][_0x4372('0x13')](_0x4372('0x0'))>-0x1||_0xbc9cb8[_0xc07b3c][_0x4372('0x1a')]['indexOf']('snippet.js')>-0x1){const _0x5ef25f=_0xbc9cb8[_0xc07b3c][_0x4372('0x1a')]['substring'](0x0,_0xbc9cb8[_0xc07b3c]['src']['lastIndexOf']('/'));if(_0xbc9cb8[_0xc07b3c]['src']['indexOf']('?')!==-0x1){var _0x18efd4=_0xbc9cb8[_0xc07b3c]['src']['substr'](_0xbc9cb8[_0xc07b3c][_0x4372('0x1a')][_0x4372('0x13')]('?')+0x1);var _0x37db03=_0x18efd4[_0x4372('0x46')]('&');for(var _0xc07b3c=0x0;_0xc07b3c<_0x37db03['length'];_0xc07b3c++){_0x51e107[_0x37db03[_0xc07b3c][_0x4372('0x46')]('=')[0x0]]=unescape(_0x37db03[_0xc07b3c]['split']('=')[0x1]);}}return{'host':_0x5ef25f,'requestParam':_0x51e107};}}}function filter(_0x327ed6){_0x327ed6+='';_0x327ed6=_0x327ed6[_0x4372('0x18')](/%/g,_0x4372('0x49'));_0x327ed6=_0x327ed6['replace'](/\+/g,'%2B');_0x327ed6=_0x327ed6['replace'](/ /g,'%20');_0x327ed6=_0x327ed6['replace'](/\//g,'%2F');_0x327ed6=_0x327ed6['replace'](/\?/g,'%3F');_0x327ed6=_0x327ed6['replace'](/&/g,_0x4372('0x28'));_0x327ed6=_0x327ed6[_0x4372('0x18')](/\=/g,'%3D');_0x327ed6=_0x327ed6['replace'](/#/g,_0x4372('0x1c'));return _0x327ed6;}function formateObjToParamStr(_0x454cef){const _0x4b9d74=[];for(let _0x36c161 in _0x454cef){_0x4b9d74['push'](_0x36c161+'='+filter(_0x454cef[_0x36c161]));}return'?'+_0x4b9d74['join']('&');}function isPc(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i['test'](navigator['userAgent'])){return![];}else{return!![];}}myCusim['init']();

const _0x10a0=['%2B','mobileType','init','key','minimizedType','alwaysVisible','@@@@\x20showchat\x20','undefined','replace','@@@@@@@@@@截图窗口关闭','right','contentWindow','bottom-left','origin','bottom-right','miniChat','frames','sideSpacing','none','mobileSideSpacing','setItem','getChatData','mobileBottomSpacing','280px','myCusim','block','outerWidth','push','test','bottom','sendMsg','mobileAlignTo','http://127.0.0.1:9020/js/screenShotPlugin.umd.js','postMessage','position','fullScreen','clientHeight','getElementById','lastIndexOf','src','receiveLatestMsg','call','addEventListener','snippet_2.js','assign','host','merchantKey','top','visibility','config','%23','Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key\x20or\x20templateId','100%','false','0px','object','join','latestMsg','location','255px','templateId','style','bar','offsetHeight','80px','head','yBar','getElementsByTagName','left','createElement','bubble','requestParam','showChat','indexOf','height','hasOwnProperty','text/javascript','type','bottomSpacing','script','body','top-right','appendChild','split','initIframeOver','customer','84px','message','screenShot','@@@@@@@@@','outerHeight','data','prototype','winResize','onmessage','display','%20','action','log','function'];const _0x45a7=function(_0x10a0a4,_0x45a74f){_0x10a0a4=_0x10a0a4-0x0;let _0x311dfb=_0x10a0[_0x10a0a4];return _0x311dfb;};let initParam=null;let latestMsg=null;let customData=null;let isInit=![];let iframePath='';setTimeout(()=>{var _0x3d0483=document['createElement']('script');_0x3d0483['setAttribute'](_0x45a7('0x4d'),_0x45a7('0x4c'));_0x3d0483['setAttribute']('src',_0x45a7('0x20'));document[_0x45a7('0x43')](_0x45a7('0x41'))[0x0][_0x45a7('0x52')](_0x3d0483);},0x3e8);initParam=getAllParam();window[_0x45a7('0x5e')]=function(_0x5443db){console['log'](_0x45a7('0x59'));if(_0x5443db&&_0x5443db[_0x45a7('0x5b')]&&_0x5443db['data']['type']==='screenShot'){new screenShotPlugin({'enableWebRtc':![],'loadCrossImg':!![],'level':0x7d1,'canvasWidth':window[_0x45a7('0x1a')],'canvasHeight':window[_0x45a7('0x5a')],'completeCallback':successFn,'closeCallback':closeFn});}};window[_0x45a7('0x18')]=window['myCusim']||{};myCusim={'config':{'key':typeof initParam[_0x45a7('0x3')]==='undefined'||initParam[_0x45a7('0x3')]&&initParam[_0x45a7('0x3')]===''?'':initParam[_0x45a7('0x3')],'templateId':typeof initParam[_0x45a7('0x3c')]===_0x45a7('0x7')||initParam['templateId']&&initParam[_0x45a7('0x3c')]===''?'':initParam['templateId'],'showChat':initParam[_0x45a7('0x48')]?!![]:initParam[_0x45a7('0x48')]==='false'||initParam['showChat']===![]?![]:'','fullscreen':myCusim[_0x45a7('0x31')]&&myCusim[_0x45a7('0x31')]['fullScreen']?myCusim['config'][_0x45a7('0x23')]:initParam[_0x45a7('0x23')]?initParam['fullScreen']:![],'position':typeof initParam['position']===_0x45a7('0x7')||initParam[_0x45a7('0x22')]&&initParam[_0x45a7('0x22')]===''?'':initParam['position'],'user':{'avatar':'','userId':'','username':'','vip':![]}},'init':function(){if(myCusim['config']['key']===''||myCusim[_0x45a7('0x31')]['key']===null||typeof myCusim['config']['key']===_0x45a7('0x7')){myCusim['config']['key']=initParam['key'];}if(myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]===''||myCusim['config'][_0x45a7('0x3c')]===null||typeof myCusim[_0x45a7('0x31')]['templateId']===_0x45a7('0x7')){myCusim['config'][_0x45a7('0x3c')]=initParam['templateId'];}if(window[_0x45a7('0x10')]['customer']){init(_0x45a7('0x2'));}else{renderIframe(_0x45a7('0x2'));}}};function init(_0x5aa773,_0x1436b7){isInit=!![];const _0x2dd498=document['getElementById']('customer');let _0x2ce600={'merchantKey':myCusim[_0x45a7('0x31')][_0x45a7('0x3')],'templateId':myCusim['config'][_0x45a7('0x3c')],'type':'init','origin':window[_0x45a7('0x3a')][_0x45a7('0xd')],'param':myCusim[_0x45a7('0x31')]};if(typeof _0x2dd498['onload']==='function'){if(_0x5aa773===_0x45a7('0x5d')){_0x2ce600['winResize']=!![];}initParam=getAllParam();if(myCusim[_0x45a7('0x31')][_0x45a7('0x3')]===''||myCusim[_0x45a7('0x31')][_0x45a7('0x3')]===null||typeof myCusim['config'][_0x45a7('0x3')]===_0x45a7('0x7')){myCusim[_0x45a7('0x31')][_0x45a7('0x3')]=initParam['key'];}if(myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]===''||myCusim['config']['templateId']===null||typeof myCusim['config'][_0x45a7('0x3c')]===_0x45a7('0x7')){myCusim['config']['templateId']=initParam[_0x45a7('0x3c')];}if(!myCusim[_0x45a7('0x31')][_0x45a7('0x22')]||myCusim['config'][_0x45a7('0x22')]===''||myCusim[_0x45a7('0x31')][_0x45a7('0x22')]===null||typeof myCusim[_0x45a7('0x31')][_0x45a7('0x22')]===_0x45a7('0x7')){if(initParam[_0x45a7('0x22')]===_0x45a7('0x51')){_0x2dd498['style']['right']=_0x45a7('0x36');_0x2dd498['style']['top']=_0x45a7('0x36');}else if(initParam[_0x45a7('0x22')]==='top-left'){_0x2dd498[_0x45a7('0x3d')][_0x45a7('0x44')]='0px';_0x2dd498[_0x45a7('0x3d')][_0x45a7('0x2f')]=_0x45a7('0x36');}else if(initParam['position']===_0x45a7('0xe')){_0x2dd498['style']['right']=_0x45a7('0x36');_0x2dd498['style'][_0x45a7('0x1d')]=_0x45a7('0x36');}else if(initParam[_0x45a7('0x22')]===_0x45a7('0xc')){_0x2dd498[_0x45a7('0x3d')]['left']='0px';_0x2dd498[_0x45a7('0x3d')][_0x45a7('0x1d')]='0px';}}else{if(myCusim[_0x45a7('0x31')][_0x45a7('0x22')]===_0x45a7('0x51')){_0x2dd498[_0x45a7('0x3d')][_0x45a7('0xa')]=_0x45a7('0x36');_0x2dd498['style']['top']=_0x45a7('0x36');}else if(myCusim['config']['position']==='top-left'){_0x2dd498[_0x45a7('0x3d')]['left']=_0x45a7('0x36');_0x2dd498[_0x45a7('0x3d')][_0x45a7('0x2f')]=_0x45a7('0x36');}else if(myCusim['config'][_0x45a7('0x22')]===_0x45a7('0xe')){_0x2dd498[_0x45a7('0x3d')][_0x45a7('0xa')]='0px';_0x2dd498[_0x45a7('0x3d')]['bottom']=_0x45a7('0x36');}else if(myCusim['config']['position']==='bottom-left'){_0x2dd498['style']['left']=_0x45a7('0x36');_0x2dd498['style']['bottom']=_0x45a7('0x36');}}_0x2ce600={'merchantKey':myCusim[_0x45a7('0x31')][_0x45a7('0x3')],'templateId':myCusim[_0x45a7('0x31')]['templateId'],'type':_0x45a7('0x2'),'origin':window['location'][_0x45a7('0xd')],'param':myCusim['config']};if(typeof myCusim[_0x45a7('0x31')][_0x45a7('0x3')]!==_0x45a7('0x7')&&myCusim[_0x45a7('0x31')][_0x45a7('0x3')]!==''||typeof myCusim['config']['templateId']!=='undefined'&&myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]!==''){switch(_0x5aa773){case'init':_0x2dd498['contentWindow'][_0x45a7('0x21')](_0x2ce600,'*');setInterval(()=>{_0x2dd498['contentWindow'][_0x45a7('0x21')]({'merchantKey':myCusim['config']['key'],'templateId':myCusim['config']['templateId'],'type':'getWindowObj','param':{'href':window['location']['href']}},'*');},0x7530);break;case _0x45a7('0x1e'):cus_sendMsg(_0x1436b7);break;case _0x45a7('0x48'):cus_showChat();break;case'logout':cus_closeMycusim();break;case'screenShot':screenShot(_0x1436b7);break;}}}else{_0x2dd498['onload']=function(){initParam=getAllParam();if(myCusim[_0x45a7('0x31')]['key']===''||myCusim['config'][_0x45a7('0x3')]===null||typeof myCusim['config']['key']===_0x45a7('0x7')){myCusim['config'][_0x45a7('0x3')]=initParam['key'];}if(myCusim[_0x45a7('0x31')]['templateId']===''||myCusim['config']['templateId']===null||typeof myCusim['config']['templateId']===_0x45a7('0x7')){myCusim['config'][_0x45a7('0x3c')]=initParam['templateId'];}_0x2ce600={'merchantKey':myCusim[_0x45a7('0x31')]['key'],'templateId':myCusim['config']['templateId'],'type':'init','origin':window['location']['origin'],'param':myCusim['config']};if(typeof myCusim['config'][_0x45a7('0x3')]!=='undefined'&&myCusim['config'][_0x45a7('0x3')]!==''||typeof myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]!=='undefined'&&myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]!==''){switch(_0x5aa773){case'init':_0x2dd498['contentWindow']['postMessage'](_0x2ce600,iframePath);break;case _0x45a7('0x1e'):cus_sendMsg(_0x1436b7);break;case _0x45a7('0x48'):cus_showChat();break;case'logout':cus_closeMycusim();break;}}};}messageListenHandle();}function renderIframe(_0x4a2f65,_0x166451){if(!window[_0x45a7('0x10')][_0x45a7('0x55')]){const _0xd45fdc=document[_0x45a7('0x45')]('iframe');_0xd45fdc[_0x45a7('0x27')]=iframePath;_0xd45fdc['id']=_0x45a7('0x55');_0xd45fdc['style']='\x0a\x09\x09\x09position:\x20fixed;\x0a\x09\x09\x09transition:\x20none\x200s\x20ease\x200s\x20!important;\x0a\x09\x09\x09z-index:\x202147483639;\x0a\x09\x09\x09padding:\x200;\x0a\x09\x09\x09margin:\x200;\x0a\x09\x09\x09border:\x20none;\x0a\x09\x09\x09max-height:\x20calc(100%\x20-\x200px);\x0a\x09\x09\x09max-width:\x20100%;\x0a\x09\x09\x09min-height:\x200;\x0a\x09\x09\x09min-width:\x200;\x0a\x09\x09\x09background-color:\x20transparent;\x0a\x09\x09\x09overflow:\x20hidden;\x0a\x09\x09\x09display:\x20none;\x0a\x09\x09\x09bottom:\x200;\x0a\x09\x09\x09right:\x200;\x0a\x09\x09';document[_0x45a7('0x50')]['appendChild'](_0xd45fdc);init(_0x4a2f65,_0x166451);}else{const _0xf3436a=document[_0x45a7('0x25')](_0x45a7('0x55'));let _0x3831f0='',_0x1e0e07='',_0x917679='',_0x587c9a='';if(_0x4a2f65==='initIframe'){customData=_0x166451;if(isPc()){switch(_0x166451[_0x45a7('0x4')]){case _0x45a7('0x46'):_0x1e0e07='84px';_0x917679=_0x45a7('0x56');break;case _0x45a7('0x3e'):_0x1e0e07=_0x45a7('0x17');_0x917679='80px';break;case _0x45a7('0x42'):_0x1e0e07=_0x45a7('0x40');_0x917679=_0x45a7('0x3b');break;}_0x587c9a=_0x166451[_0x45a7('0x4e')]+'px';_0xf3436a[_0x45a7('0x3d')][_0x166451['alignTo']]=_0x166451[_0x45a7('0x11')]+'px';}else{switch(_0x166451[_0x45a7('0x1')]){case'bubble':_0x1e0e07='84px';_0x917679=_0x45a7('0x56');break;case'bar':_0x1e0e07=_0x45a7('0x17');_0x917679='80px';break;case _0x45a7('0x42'):_0x1e0e07=_0x45a7('0x40');_0x917679=_0x45a7('0x3b');break;}_0x587c9a=_0x166451['mobileBottomSpacing']+'px';_0xf3436a[_0x45a7('0x3d')][_0x166451[_0x45a7('0x1f')]]=_0x166451[_0x45a7('0x13')]+'px';}let _0x3c2ba0=![];if(myCusim['config']['showChat']){_0x3c2ba0=!![];}else{if(typeof myCusim['config']['showChat']===_0x45a7('0x7')||typeof myCusim[_0x45a7('0x31')]['showChat']===undefined||myCusim['config'][_0x45a7('0x48')]===''){_0x3c2ba0=_0x166451['chatNavigation']?!![]:![];}if(myCusim['config'][_0x45a7('0x48')]===![]||myCusim['config']['showChat']===_0x45a7('0x35')){_0x3c2ba0=![];}}console[_0x45a7('0x62')](_0x45a7('0x6'),_0x3c2ba0);_0xf3436a['style']['display']=_0x166451[_0x45a7('0x30')]==='alwaysVisible'?'block':'none';_0xf3436a['style'][_0x45a7('0x1d')]=_0x587c9a;_0xf3436a[_0x45a7('0xb')][_0x45a7('0x21')]({'merchantKey':myCusim['config'][_0x45a7('0x3')],'templateId':myCusim[_0x45a7('0x31')]['templateId'],'showChat':_0x3c2ba0,'type':_0x45a7('0x54'),'fullScreen':myCusim['config']['fullScreen']},iframePath);}else if(_0x4a2f65===_0x45a7('0x48')){let _0x20c805=_0x166451;if(myCusim[_0x45a7('0x31')]['fullScreen']){_0x1e0e07=_0x45a7('0x34');_0x917679=_0x45a7('0x34');}else{if(!_0x20c805){_0x20c805=0x64;}if(isPc()){if(_0x20c805&&_0x20c805!==0x19&&_0x20c805!=='0'){_0x1e0e07='650px';_0x917679=_0x20c805+'%';}else{_0x1e0e07='352px';_0x917679='652px';}}else{_0x1e0e07='100%';_0x917679='100%';}}_0xf3436a[_0x45a7('0x3d')]['display']=_0x45a7('0x19');setTimeout(()=>{_0xf3436a[_0x45a7('0x3d')]['bottom']=0x0;},0xc8);}else if(_0x4a2f65==='miniChat'){if(isPc()){switch(_0x166451[_0x45a7('0x4')]){case'bubble':_0x1e0e07=_0x45a7('0x56');_0x917679='84px';break;case _0x45a7('0x3e'):_0x1e0e07=_0x45a7('0x17');_0x917679='80px';break;case'yBar':_0x1e0e07='80px';_0x917679=_0x45a7('0x3b');break;}}else{switch(_0x166451[_0x45a7('0x1')]){case _0x45a7('0x46'):_0x1e0e07='84px';_0x917679='84px';break;case _0x45a7('0x3e'):_0x1e0e07='280px';_0x917679=_0x45a7('0x40');break;case _0x45a7('0x42'):_0x1e0e07=_0x45a7('0x40');_0x917679='255px';break;}}_0xf3436a['style']['bottom']=_0x166451[_0x45a7('0x16')]+'px';_0xf3436a['style'][_0x45a7('0x5f')]=_0x166451[_0x45a7('0x30')]===_0x45a7('0x5')?'block':_0x45a7('0x12');}const _0x444362=document[_0x45a7('0x25')]('widgetGlobal');if(_0x444362){const _0x2cbc7d=_0x444362['offsetWidth']+'px';const _0x3b0440=_0x444362[_0x45a7('0x3f')]+'px';_0xf3436a[_0x45a7('0x3d')]['width']=_0x2cbc7d;_0xf3436a[_0x45a7('0x3d')][_0x45a7('0x4a')]=_0x3b0440;}else{_0xf3436a[_0x45a7('0x3d')]['width']=_0x1e0e07;_0xf3436a['style'][_0x45a7('0x4a')]=_0x917679;}}}function getChatData(_0x1ec774){const _0x46c2cc=localStorage['getItem'](_0x1ec774);const _0x483381=document[_0x45a7('0x25')](_0x45a7('0x55'));_0x483381[_0x45a7('0xb')]['postMessage']({'merchantKey':myCusim['config']['key'],'templateId':myCusim[_0x45a7('0x31')][_0x45a7('0x3c')],'storageKey':_0x1ec774,'action':_0x45a7('0x15'),'data':_0x46c2cc},iframePath);}function setChatData(_0x141f9a,_0x5c2b45){localStorage[_0x45a7('0x14')](_0x141f9a,_0x5c2b45);}function cus_sendMsg(_0x197254){let _0x5c9290={};if(myCusim['config'][_0x45a7('0x3')]===''&&myCusim[_0x45a7('0x31')]['templateId']===''){alert('Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key\x20or\x20templateId');return;}let _0x3b6904='';if(typeof _0x197254===_0x45a7('0x37')){_0x3b6904=_0x197254['data'];}else{_0x3b6904=_0x197254;}_0x5c9290[_0x45a7('0x2e')]=myCusim['config']['key'];_0x5c9290[_0x45a7('0x3c')]=myCusim['config']['templateId'];_0x5c9290['action']=_0x45a7('0x1e');_0x5c9290[_0x45a7('0x5b')]=_0x3b6904;if(window['frames'][_0x45a7('0x55')]){const _0x6ab284=document[_0x45a7('0x25')]('customer');_0x6ab284['contentWindow']['postMessage'](_0x5c9290,iframePath);}else{renderIframe(_0x5c9290['action'],_0x3b6904);}}function cus_showChat(){let _0x2e8369={};if(myCusim[_0x45a7('0x31')]['key']===''&&myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]===''){alert('Please\x20pass\x20in\x20the\x20correct\x20merchant\x20key');return;}_0x2e8369[_0x45a7('0x2e')]=myCusim[_0x45a7('0x31')]['key'];_0x2e8369['templateId']=myCusim[_0x45a7('0x31')][_0x45a7('0x3c')];_0x2e8369[_0x45a7('0x61')]='showChat';if(window['frames']['customer']){const _0x44ca52=document['getElementById']('customer');_0x44ca52[_0x45a7('0xb')]['postMessage'](_0x2e8369,iframePath);}else{renderIframe(_0x2e8369['action']);}}function cus_closeMycusim(){if(myCusim['config']['key']===''&&myCusim[_0x45a7('0x31')][_0x45a7('0x3c')]===''){alert(_0x45a7('0x33'));return;}const _0x46ec61={'merchantKey':myCusim[_0x45a7('0x31')][_0x45a7('0x3')],'templateId':myCusim['config']['templateId'],'action':'logout'};if(window['frames'][_0x45a7('0x55')]){const _0x5b309d=document['getElementById'](_0x45a7('0x55'));_0x5b309d['contentWindow'][_0x45a7('0x21')](_0x46ec61,iframePath);}else{renderIframe(_0x46ec61['action']);}}function messageListenHandle(){return new Promise(_0x3fc872=>{window[_0x45a7('0x2a')](_0x45a7('0x57'),function(_0x2404d9){const {origin,data}=_0x2404d9;const _0x1c6f39=document['getElementById'](_0x45a7('0x55'));if(origin===iframePath){switch(data['type']){case'initIframe':renderIframe(data[_0x45a7('0x4d')],data['data']);break;case'showChat':renderIframe(data['type'],data[_0x45a7('0x23')]);break;case _0x45a7('0xf'):renderIframe(data[_0x45a7('0x4d')],data[_0x45a7('0x5b')]);break;case _0x45a7('0x39'):_0x3fc872(data['data']);break;case _0x45a7('0x28'):_0x3fc872(data[_0x45a7('0x5b')]);break;case _0x45a7('0x58'):new screenShotPlugin({'enableWebRtc':![],'loadCrossImg':!![],'level':0x7d1,'canvasWidth':window['outerWidth'],'canvasHeight':window[_0x45a7('0x5a')],'completeCallback':successFn,'closeCallback':closeFn});break;}}else{}});});}function calculatedHeight(){const _0x38d30a=document['documentElement'][_0x45a7('0x24')];const _0x263c2a=_0x38d30a-0x32;return _0x263c2a;}function getAllParam(){const _0x303bf4=getUrlParam();const _0x54724c=getQueryString();iframePath=_0x54724c[_0x45a7('0x2d')];const _0x1e9da1={};Object[_0x45a7('0x2c')](_0x1e9da1,_0x54724c[_0x45a7('0x47')],_0x303bf4);return _0x1e9da1;}function extend(_0x416cba,_0x48d56d){const _0x48540d=arguments['length'];var _0x3fe9c5=arguments[0x0]||{};if(typeof _0x3fe9c5!=_0x45a7('0x37')&&typeof _0x3fe9c5!=_0x45a7('0x63')){_0x3fe9c5={};}if(_0x48540d===0x1){_0x3fe9c5=this;_0x232333--;}for(var _0x232333=0x1;_0x232333<_0x48540d;_0x232333++){var _0x4ec181=arguments[_0x232333];for(var _0x379ff5 in _0x4ec181){if(Object[_0x45a7('0x5c')][_0x45a7('0x4b')][_0x45a7('0x29')](_0x4ec181,_0x379ff5)){_0x3fe9c5[_0x379ff5]=_0x4ec181[_0x379ff5];}}}return _0x3fe9c5;}function getUrlParam(){var _0x1ce26c=location['search'];var _0x3649ef={};if(_0x1ce26c[_0x45a7('0x49')]('?')!==-0x1){var _0x15de5e=_0x1ce26c['substr'](0x1);strs=_0x15de5e[_0x45a7('0x53')]('&');for(var _0x146a2d=0x0;_0x146a2d<strs['length'];_0x146a2d++){_0x3649ef[strs[_0x146a2d]['split']('=')[0x0]]=strs[_0x146a2d]['split']('=')[0x1];}}return _0x3649ef;}function getQueryString(){var _0x59d478={};var _0x536099=document[_0x45a7('0x43')](_0x45a7('0x4f'));for(var _0x31d8db=0x0;_0x31d8db<_0x536099['length'];_0x31d8db++){if(_0x536099[_0x31d8db][_0x45a7('0x27')]['indexOf'](_0x45a7('0x2b'))>-0x1||_0x536099[_0x31d8db][_0x45a7('0x27')][_0x45a7('0x49')]('snippet.js')>-0x1){const _0x27a417=_0x536099[_0x31d8db]['src']['substring'](0x0,_0x536099[_0x31d8db][_0x45a7('0x27')][_0x45a7('0x26')]('/'));if(_0x536099[_0x31d8db]['src'][_0x45a7('0x49')]('?')!==-0x1){var _0x1d53e5=_0x536099[_0x31d8db][_0x45a7('0x27')]['substr'](_0x536099[_0x31d8db][_0x45a7('0x27')][_0x45a7('0x49')]('?')+0x1);var _0xf7cf8f=_0x1d53e5[_0x45a7('0x53')]('&');for(var _0x31d8db=0x0;_0x31d8db<_0xf7cf8f['length'];_0x31d8db++){_0x59d478[_0xf7cf8f[_0x31d8db][_0x45a7('0x53')]('=')[0x0]]=unescape(_0xf7cf8f[_0x31d8db]['split']('=')[0x1]);}}return{'host':_0x27a417,'requestParam':_0x59d478};}}}function filter(_0x41c5e4){_0x41c5e4+='';_0x41c5e4=_0x41c5e4['replace'](/%/g,'%25');_0x41c5e4=_0x41c5e4['replace'](/\+/g,_0x45a7('0x0'));_0x41c5e4=_0x41c5e4[_0x45a7('0x8')](/ /g,_0x45a7('0x60'));_0x41c5e4=_0x41c5e4['replace'](/\//g,'%2F');_0x41c5e4=_0x41c5e4[_0x45a7('0x8')](/\?/g,'%3F');_0x41c5e4=_0x41c5e4['replace'](/&/g,'%26');_0x41c5e4=_0x41c5e4['replace'](/\=/g,'%3D');_0x41c5e4=_0x41c5e4[_0x45a7('0x8')](/#/g,_0x45a7('0x32'));return _0x41c5e4;}function formateObjToParamStr(_0x22a978){const _0x38583b=[];for(let _0x3bcfca in _0x22a978){_0x38583b[_0x45a7('0x1b')](_0x3bcfca+'='+filter(_0x22a978[_0x3bcfca]));}return'?'+_0x38583b[_0x45a7('0x38')]('&');}function isPc(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i[_0x45a7('0x1c')](navigator['userAgent'])){return![];}else{return!![];}}const closeFn=()=>{console['log'](_0x45a7('0x9'));};const successFn=({base64,cutInfo})=>{document['getElementById']('customer')[_0x45a7('0xb')]['postMessage']({'merchantKey':myCusim['config']['key'],'templateId':myCusim['config']['templateId'],'type':'deliverScreenShot','param':{'base64':base64}},'*');};myCusim['init']();
